---
title: 20240229 string#2
date: 2024-02-28 16:56:50
tags:
---

### String and KMP

## 1. Find the Index of the First Occurrence in a String #28

```python
class Solution:
    def strStr(self, haystack: str, needle: str) -> int:
        for i in range(0,len(haystack)-len(needle)+1):
            s = haystack[i:i+len(needle)]
            if(s == needle):
                return i
        return -1
```

这道题有python的简单解法，KMP 算法的思路之后再看。
KMP的精髓所在就是前缀表，![在KMP精讲](https://programmercarl.com/0028.%E5%AE%9E%E7%8E%B0strStr.html#%E7%AE%97%E6%B3%95%E5%85%AC%E5%BC%80%E8%AF%BE) 中提到了，什么是KMP，什么是前缀表，以及为什么要用前缀表。

前缀表：起始位置到下标i之前（包括i）的子串中，有多大长度的相同前缀后缀。



## 2. 重复的子字符串 #459

```python
class Solution:
    def repeatedSubstringPattern(self, s: str) -> bool:
        # 自己的解法
        n = len(s)
        for i in range(0, len(s)//2):
            if len(s) % (i+1) == 0:
                n_arr = s[0:i+1] * int(len(s)/(i+1))
                if n_arr == s:
                    return True
        return False

        # 例子的解法
        return s in s[1:] + s[:-1]
```

思路：
- 这是暴力解法
- 我的思路是，循环第i位开始，构造一个拼接字符串i位n次的字符串，然后判断新构造的字符串是否等于s，如果等于，就是True，否则就是False
- 循环只循环一半就可以
- 例子的思路是把s和倒过来的s拼在一起，判断s是否存在于新的字符串

