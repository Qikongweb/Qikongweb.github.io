---
title: 20240228 string#1
date: 2024-02-27 05:04:07
tags:
---

## string 字符串
 
### 1. 反转字符串 #344

```python
class Solution:
    def reverseString(self, s: List[str]) -> None:
        """
        Do not return anything, modify s in-place instead.
        """
        # 数组range
        for i in range(0,len(s)//2):
            j = len(s)-1-i
            s[i], s[j] = s[j], s[i]
        # return s

        # 双指针 方法
        left = 0
        right = len(s)-1

        while left < right:
            s[left], s[right] = s[right], s[left]
            left += 1
            right -= 1
```

思路：
- 第一时间想到双指针while，或者for loop做range，跟双指针差不多。
- 不需要return

### 2. 反转字符串II #541

```python
class Solution:
    def reverseStr(self, s: str, k: int) -> str:
        list_str = list(s)
        
        for i in range(0, len(list_str), 2*k):
            left = i
            if i+k-1>=len(list_str):
                right = len(list_str)-1
            else:
                right = i+k-1
            while left < right:
                list_str[left], list_str[right] = list_str[right], list_str[left]
                left += 1
                right -= 1

        s_new = "".join(list_str)
        return s_new

```
思路：
- 也是第一时间想到用双指针，循环的时候是每2k循环一次
- 如果最后一次循环不足k的时候，右指针需要改到最后一位
- **注意：python字符串不能做交换位，只能是数组，所以这道题先变数组再变回字符串**

### 3. 替换数字 kama网code
```python
str1 = input()
ans = ""
for ss in str1:
    if ord("0") <= ord(ss) <= ord("9"):
        ans += "number"
    else:
        ans += ss
print(ans)
```

### 4. 翻转字符串里的单词 #151 （可以再做一遍）
**第一种解法** 
```python
class Solution:
    # 去掉多余的空格，用双指针
    def deleteSpaceSeries(self, s: list):
        # 尾巴while去空格
        i = len(s) - 1
        while i>=0 and s[i] == ' ':
            s.pop()
            i-=1
        # 开头while去空格
        i = 0
        while i < len(s) and s[i] == ' ':
            i+=1
        # 去掉中间的多余一个的空格
        write_i = 0 #新指针
        while i < len(s):
            if not (s[i-1] == " " and s[i]==" "):
                s[write_i] = s[i]
                write_i += 1
            i+=1
        # 把write_i之后的元素都去掉 
        for _ in range(len(s)-write_i):
            s.pop()
        return s
    # reverse 每个单词
    def reversOneWord(self, s: list):
        left = 0
        right = len(s) - 1
        while left < len(s)//2:
            s[left],s[right]= s[right],s[left]
            left+=1
            right-=1
        return s
    def reverseWords(self, s: str) -> str:
        # 不用库函数的解法,空间复杂度是O（1），没有定义其他的数组
        s_new = self.deleteSpaceSeries(list(s)); #去除多余空格，保证单词之间之只有一个空格，且字符串首尾没空格。

        s_reverseSentence = self.reversOneWord(s_new)
        
        start = 0  #removeExtraSpaces后保证第一个单词的开始下标一定是0。
        for i in range(0,len(s_new)+1) : #这个循环的条件是到size+1，为了最后一次循环，保证取到了最后一位
            if (i == len(s_new) or s_new[i] == ' '):  #到达空格或者串尾，说明一个单词结束。进行翻转。
                s_new[start:i] = self.reversOneWord(s_new[start:i]) #翻转，注意是左闭右闭 []的翻转。
                start = i + 1 #更新下一个单词的开始下标start
            
        return "".join(s_new)

```
**第二种解法**
```python
# 删除前后空白
s = s.strip()
# 反转整个字符串
s = s[::-1]
# 将字符串拆分为单词，并反转每个单词
s_split = s.split()
for i in range(0,len(s_split)):
    s_split[i] = s_split[i][::-1]
print(s_split)
return " ".join(s_split)

```
**第三种解法**
```python
# 将字符串拆分为单词，即转换成列表类型
words = s.split()

# 反转单词
left, right = 0, len(words) - 1
while left < right:
    words[left], words[right] = words[right], words[left]
    left += 1
    right -= 1

# 将列表转换成字符串
return " ".join(words)
```
思路：
- 解法是拆开成三步：
    - 去掉多余的空格
    - 把整个字符串反转
    - 把字符串里的每个单词反转
- 第一种解法，属于有难度的，不用库函数，应用了双指针实现了反转和去掉多余的空格。空间复杂度是O(1)。因为没有新建多余的数组，有一个问题，在python中，如果把字符串变成list，还算空间复杂度是O(1)？
    - 解答这个问题： 在Python中，字符串是不可变（immutable）的，这意味着你无法像在C++中那样直接操作字符串进行交换。当你试图修改字符串时，实际上是创建了一个新的字符串对象。

    - 当你将字符串转换为列表（list）进行操作后，再将其转换回字符串时，空间复杂度取决于你创建的新列表的大小。如果你只是对原始字符串进行了原地修改，而没有创建新的对象，则空间复杂度可以近似为O(1)。

    - 然而，如果你创建了新的列表对象，空间复杂度将取决于新列表对象的大小，因此不再是O(1)。
    
- 第二,三种解法是应用了python自己的库函数：
    - s.splite(), 根据空格拆分string，得到list，类似typescript里的split
    - " ".joint(list), 如果是中间用空格链接，就要在前面加空格

### 5. 右旋字符串 卡农网题目

```python
k = int(input())
s = input()

l = ""
r = ""
res = ""
for i in range(0,len(s)):
    if i < len(s)-k:
        l += s[i]
    else:
        r += s[i]
        
res = r + l
print(res)
```