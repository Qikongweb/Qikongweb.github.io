---
title: 20240430-graph-7
date: 2024-05-01 05:01:35
tags:
---

## 并查集

## 寻找图中是否存在路径 #1971

- 思路：
- 本题是并查集基础题目
- 主要就是集合问题，两个节点在不在一个集合，也可以将两个节点添加到一个集合中。

并查集主要有三个功能。

寻找根节点，函数：find(int u)，也就是判断这个节点的祖先节点是哪个
将两个节点接入到同一个集合，函数：join(int u, int v)，将两个节点连在同一个根节点上
判断两个节点是否在同一个集合，函数：isSame(int u, int v)，就是判断两个节点是不是同一个根节点
为什么说这道题目是并查集基础题目，题目中各个点是双向图链接，那么判断 一个顶点到另一个顶点有没有有效路径其实就是看这两个顶点是否在同一个集合里。

```python
class Solution:
    def validPath(self, n: int, edges: List[List[int]], source: int, destination: int) -> bool:
        # 并查集初始化
        p = [i for i in range(n)]
        # print(p)
        def find(i):
            # print(i,p[i])
            if p[i] != i:
                p[i] = find(p[i])
            return p[i]
        # 把边加入到并查集里
        for u,v in edges:
            # p[find(u)] = find(v)
            p1 = find(u)
            p2 = find(v)
            # if p1 == p2:  这里不能加return，因为return就是跳出循环了，目的是把每一个边都加进去
            #     return
            p[p1] = p2
            # print((u,v, p1,p2),p)
        # 判断是否在同一个并查集
        return find(source) == find(destination)
```

## 2. 冗余连接 #684
并查集主要有三个功能。

寻找根节点，函数：find(int u)，也就是判断这个节点的祖先节点是哪个
将两个节点接入到同一个集合，函数：join(int u, int v)，将两个节点连在同一个根节点上
判断两个节点是否在同一个集合，函数：isSame(int u, int v)，就是判断两个节点是不是同一个根节点

思路：
- 题目说是无向图，返回一条可以删去的边，使得结果图是一个有着N个节点的树（即：只有一个根节点）。

如果有多个答案，则返回二维数组中最后出现的边。

那么我们就可以从前向后遍历每一条边（因为优先让前面的边连上），边的两个节点如果不在同一个集合，就加入集合（即：同一个根节点）。

- 越往后遍历，前面的点都加入进了集合，然后如果出现在同一集合的情况就是，说明着边的两个节点已经连在一起了，再加入这条边一定就出现环了。就是要找的结果
- 如果题目说的是找最前面出现的边，就是倒序遍历


```python
class Solution:
    def findRedundantConnection(self, edges: List[List[int]]) -> List[int]:
        father = [i for i in range(len(edges)+1)]

        def find(i):
            if father[i] != i:
                father[i] = find(father[i])
            return father[i]

        # join
        for u,v in edges:
            d1 = find(u)
            d2 = find(v)
            if d1 == d2:
                return [u,v]
            father[d1] = d2
            print(father)
```

## 3. 冗余连接II #685

在图论中，入度（in-degree）和出度（out-degree）是用来描述有向图（directed graph）中顶点的一个重要概念。

入度（in-degree）：对于有向图中的某个顶点，入度是指指向该顶点的边的数量。换句话说，入度表示有多少条边以该顶点为终点。
出度（out-degree）：对于有向图中的某个顶点，出度是指从该顶点出发的边的数量。换句话说，出度表示有多少条边以该顶点为起点。

hard 二刷再做